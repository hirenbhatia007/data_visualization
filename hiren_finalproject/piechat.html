<html>
<head>
    <title>our first script</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.8/d3.min.js">
    
    </script>
    <style>
        body{
            background-color: aliceblue;
        }
        svg{

            background-color: #c4e4ed;
        }
    </style>
    <link rel="stylesheet" href="main.css" />
    <script src="https://d3js.org/d3-geo-projection.v1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.20/topojson.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <title>d3 final project</title>
    </head>

    <body class="spacing">
            <header>
            <div><h1 class="heading" >D3 FINAL PROJECT</h1></div>
        <div class="topnav">
            <a class="active" href="hiren_finalproject.html">Bar</a>
            <a href="worldmap.html">worldmap</a>
            <a href="piechat.html">Axis</a>
             <a href="donut.html">donut</a>
        </div>
    </header>

        
        
        
            <div id="Div">
                 <h1 class="heading2">Ragging ratio in bits pilani</h1>
                <svg style="width: 600px; height: 600px;">
                    
                </svg>
                <script>
                        d3.csv("data/numberdata.csv",scatterplot);  
                    function scatterplot(data){
                        var xScale = d3.scaleLinear().domain([2008,2017]).range([40,570]);
                        var yScale = d3.scaleLinear().domain([0.02,0.27]).range([570,20]);
                 
                        yAxis = d3.axisRight()
                                .scale(yScale)
                                .ticks(9)
                                .tickSize(-570);
                        
                        d3.select("svg").append("g")
                                
                                .attr("transform","translate(570,0)")
                                .call(yAxis);
                        
                        xAxis = d3.axisBottom()
                                .scale(xScale)
                                .tickSize(-570)
                                .tickValues([2008,2009,2010,2011,2012,2013,2014,2015,2016,2017]);
                        
                        d3.select("svg").append("g")
                                .attr("id","xAxisG")
                                .attr("transform","translate(0,570)")
                                .call(xAxis);

                        
                            d3.select("svg").selectAll("circle")
                                .data(data)
                                .enter()
                                .append("circle")
                                .attr("r",5)
                                .attr("cx",d=>xScale(d.year))
                                .attr("cy",d=>yScale(d.percent))
                                .style("fill","#6f7784")
                                .on("click",clickcircle);
                        
                        
                        function clickcircle(data){
                            d3.select("svg")
                            .selectAll("circle")
                             .style("fill","#6f7784") 
                                .style("stroke-width","0") 
                            .attr("r",5);
                           
                            d3.select(this).attr("r",d=>(d.percent)*100)
                                .style("stroke","black")
                                .style("stroke-width","2");  
                            
                        }       
                        
                    }
                
                </script>
        </div>
    </body>

</html>
